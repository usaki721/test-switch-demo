{"version":3,"sources":["components/MovieList.js","components/MovieDetails.js","App.js","index.js"],"names":["MovieList","props","handleSwitch","useState","movies","setMovies","genreList","setGenreList","genre","setGenre","useEffect","axios","get","then","res","list","Set","data","i","Genre","split","g","add","trim","Array","from","sort","catch","err","console","log","ButtonGroup","next","previous","rest","carouselState","slidesToShow","totalItems","className","onClick","htmlFor","id","onChange","e","target","value","key","map","responsive","desktop","breakpoint","max","min","items","tablet","mobile","infinite","arrows","renderButtonGroupOutside","customButtonGroup","filter","includes","index","Id","title","Title","tabIndex","style","backgroundImage","Poster","onKeyDown","MovieDetails","movie","mobileMeta","ignoreMeta","src","alt","Object","keys","href","rel","App","currentMovie","setCurrentMovie","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.bbc5704b.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport Carousel from 'react-multi-carousel';\nimport 'react-multi-carousel/lib/styles.css';\n\n/**\n * Movie carousel with genre filter\n * @props\n * handleSwitch: (movie:Object)=>void switch selected movie\n */\nconst MovieList = (props) => {\n    const {handleSwitch} = props;\n    const [movies, setMovies] = useState([]);\n    const [genreList, setGenreList] = useState([]);\n    const [genre, setGenre] = useState(''); // current genre\n    useEffect(() => {\n\n        // get movie data from api\n        axios.get('http://www.mocky.io/v2/5af935ab320000221d86afe6')\n            .then((res) => {\n                // get all genres\n                let list = new Set();\n                for (let i of res.data) {\n                    for (let g of i.Genre.split(',')) {\n                        list.add(g.trim());\n                    }\n                }\n                setMovies(res.data);\n                setGenreList(Array.from(list).sort());\n                handleSwitch(res.data[0]); // select the first movie by default\n            })\n            .catch((err) => {\n                console.log(err);\n            })\n    }, []);\n\n    // Carousel responsive config\n    const responsive = {\n        desktop: {\n            breakpoint: { max: 4000, min: 992 },\n            items: 6\n        },\n        tablet: {\n            breakpoint: { max: 992, min: 464 },\n            items: 4\n        },\n        mobile: {\n            breakpoint: { max: 576, min: 0 },\n            items: 2\n        }\n    };\n\n    // customize carousel button\n    const ButtonGroup = ({ next, previous, ...rest }) => {\n        console.log(rest);\n        const { carouselState: { slidesToShow, totalItems } } = rest;\n        return (\n            <>\n                {totalItems <= slidesToShow ? null :\n                    <div className=\"carousel-button-group\">\n                        <button className='react-multiple-carousel__arrow react-multiple-carousel__arrow--left' onClick={() => previous()} />\n                        <button className='react-multiple-carousel__arrow react-multiple-carousel__arrow--right' onClick={() => next()} />\n                    </div>\n                }\n            </>\n        );\n    }\n\n    return (\n        <section className='container movie-list'>\n\n            {/* Customized select */}\n            <div className='select-box'>\n                <label htmlFor='genre'>{genre || 'Genre'}</label>\n                <select id='genre' onChange={(e) => { setGenre(e.target.value) }}>\n                    <option key={'All'} value=''>All Genre</option>\n                    {genreList.map(i => (<option key={i}>{i}</option>))}\n                </select>\n            </div>\n\n            {/* Carousel */}\n            <div className='carousel-box'>\n                <Carousel\n                    responsive={responsive}\n                    infinite={true}\n                    arrows={false}\n                    renderButtonGroupOutside={true}\n                    customButtonGroup={<ButtonGroup />}\n                >\n                    {movies.filter(i => i.Genre?.includes(genre)).map((i, index) => (\n                        <div\n                            key={i.Id}\n                            className='movie-item-box'\n                        >\n                            <div\n                                className='movie-item'\n                                title={i.Title}\n                                tabIndex='0'\n                                style={{ backgroundImage: `url(${i.Poster})` }}\n                                onClick={() => { props.handleSwitch(i) }}\n                                onKeyDown={(e) => { e.key === 'Enter' && handleSwitch(i) }}\n                            />\n                        </div>\n                    ))}\n                </Carousel>\n            </div>\n        </section>\n    )\n}\n\nexport default MovieList;","import React from 'react';\n\n/**\n * Detail information of selected movie\n * @param {movie: Object} props \n */\nconst MovieDetails = (props) => {\n    const { movie } = props;\n    const mobileMeta=['Year','Genre','Plot']; // header metas displayed after title in mobile layout\n    const ignoreMeta = ['Poster', 'Title', 'Id', 'Type']; // metas not display\n    return (\n        <section className='container movie-details'>\n            {/* PC Poster */}\n            <div className='left'>\n                <img src={movie.Poster} alt='poster' />\n            </div>\n            \n            <div className='right'>\n\n                {/* Title and header metas */}\n                <h2>{movie.Title}</h2>\n                <ul className='metas meta-mobile'>\n                    {Object.keys(movie)\n                        .filter(i => (mobileMeta.includes(i) && movie[i] !== 'N/A'))\n                        .map(i => (\n                            <li key={i}>\n                                <span className='label'>{i}: </span>\n                                <span>{movie[i]}</span>\n                            </li>\n                        ))\n                    }\n                </ul>\n\n                <div className='detail'>\n\n                    {/* Mobile poster */}\n                    <img className='poster' src={movie.Poster} alt='poster' />\n\n                    {/* Metas */}\n                    <ul className='metas'>\n                        {Object.keys(movie)\n                            .filter(i => (!ignoreMeta.includes(i) && movie[i] !== 'N/A'))\n                            .map(i => (\n                                <li key={i} className={mobileMeta.includes(i)? 'meta-pc':''}>\n                                    <span className='label'>{i}: </span>\n                                    {i==='Website'?(\n                                        <a href={movie[i]} target='_blank' rel=\"noopener noreferrer\">{movie[i]}</a>\n                                    ):(\n                                        <span>{movie[i]}</span>\n                                    )}\n                                </li>\n                            ))}\n                    </ul>\n                </div>\n            </div>\n        </section>\n    )\n}\nexport default MovieDetails;","import React, { useState } from 'react';\nimport './App.scss';\nimport MovieList from './components/MovieList';\nimport MovieDetails from './components/MovieDetails';\n\nfunction App() {\n  const [currentMovie, setCurrentMovie] = useState({});\n\n  return (\n    <div className=\"App\">\n      <main>\n        <MovieDetails movie={currentMovie} />\n        <MovieList handleSwitch={setCurrentMovie} />\n      </main>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}